// PouchDB websql plugin 7.0.0
// Since PouchDB 7.0.0, shipped as a separate plugin.
// 
// (c) 2012-2018 Dale Harvey and the PouchDB team
// PouchDB may be freely distributed under the Apache license, version 2.0.
// For all details and documentation:
// http://pouchdb.com
!function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,u)}return s[t].exports}for(var f="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";t.exports=function(r){return function(){var e=arguments.length;if(e){for(var t=[],n=-1;++n<e;)t[n]=arguments[n];return r.call(this,t)}return r.call(this,[])}}},{}],2:[function(e,t,n){var u=Object.create||function(e){var t=function(){};return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var i,s=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),i=0===c.x}catch(e){i=!1}function f(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=u(null),e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=f(e))&&0<i&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else a=o[t]=n,++e._eventsCount;return e}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(d,r);return i.listener=n,r.wrapFn=i}function p(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):_(i,i.length):[]}function v(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}i?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):r.defaultMaxListeners=s,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return f(this)},r.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(n=a[e]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=_(e,r),o=0;o<r;++o)i[o].call(n)}(n,c,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].call(n,r)}(n,c,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=_(e,o),s=0;s<o;++s)a[s].call(n,r,i)}(n,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=_(e,a),u=0;u<a;++u)s[u].call(n,r,i,o)}(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].apply(n,r)}(n,c,this,i)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return l(this,e,t,!1)},r.prototype.prependListener=function(e,t){return l(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=u(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=u(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=u(null):delete n[e]),this;if(0===arguments.length){var i,o=a(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return p(this,e,!0)},r.prototype.rawListeners=function(e){return p(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],3:[function(e,f,t){(function(t){"use strict";var n,r,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,o=new e(c),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),n=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var s=new t.MessageChannel;s.port1.onmessage=c,n=function(){s.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}f.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],5:[function(e,n,r){!function(e){if("object"==typeof r)n.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;try{t=window}catch(e){t=self}t.SparkMD5=e()}}(function(f){"use strict";var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function c(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function l(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function d(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,n,r,i,o,a,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)c(u,l(e.substring(t-64,t)));for(n=(e=e.substring(t-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),55<t)for(c(u,r),t=0;t<16;t+=1)r[t]=0;return i=(i=8*s).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,c(u,r),u}function n(e){var t,n="";for(t=0;t<4;t+=1)n+=r[e>>8*t+4&15]+r[e>>8*t&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=n(e[t]);return e.join("")}function o(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function s(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==a(i("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(e,t){var n,r,i,o,a=this.byteLength,s=c(e,a),u=a;return t!==f&&(u=c(t,a)),u<s?new ArrayBuffer(0):(n=u-s,r=new ArrayBuffer(n),i=new Uint8Array(r),o=new Uint8Array(this,s,n),i.set(o),r)}}(),u.prototype.append=function(e){return this.appendBinary(o(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)c(this._hash,l(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=s(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),55<o)for(c(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,c(this._hash,e)},u.hash=function(e,t){return u.hashBinary(o(e),t)},u.hashBinary=function(e,t){var n=a(i(e));return t?s(n):n},(u.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,n,r,i,o,a=(n=this._buff.buffer,r=e,i=!0,(o=new Uint8Array(n.byteLength+r.byteLength)).set(new Uint8Array(n)),o.set(new Uint8Array(r),n.byteLength),i?o:o.buffer),s=a.length;for(this._length+=e.byteLength,t=64;t<=s;t+=64)c(this._hash,d(a.subarray(t-64,t)));return this._buff=t-64<s?new Uint8Array(a.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=s(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var n=a(function(e){var t,n,r,i,o,a,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)c(u,d(e.subarray(t-64,t)));for(n=(e=t-64<s?e.subarray(t-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),55<t)for(c(u,r),t=0;t<16;t+=1)r[t]=0;return i=(i=8*s).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,c(u,r),u}(new Uint8Array(e)));return t?s(n):n},u})},{}],6:[function(e,t,n){var r=e(9),i=e(10),o=i;o.v1=r,o.v4=i,t.exports=o},{10:10,9:9}],7:[function(e,t,n){for(var i=[],r=0;r<256;++r)i[r]=(r+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}},{}],8:[function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var o=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},{}],9:[function(e,t,n){var p,v,_=e(8),g=e(7),y=0,m=0;t.exports=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||p,a=void 0!==e.clockseq?e.clockseq:v;if(null==o||null==a){var s=_();null==o&&(o=p=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=v=16383&(s[6]<<8|s[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,f=u-y+(c-m)/1e4;if(f<0&&void 0===e.clockseq&&(a=a+1&16383),(f<0||y<u)&&void 0===e.nsecs&&(c=0),1e4<=c)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=u,v=a;var l=(1e4*(268435455&(u+=122192928e5))+(m=c))%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var h=0;h<6;++h)i[r+h]=o[h];return t||g(i)}},{7:7,8:8}],10:[function(e,t,n){var a=e(8),s=e(7);t.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||s(i)}},{7:7,8:8}],11:[function(e,t,n){"use strict";function h(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){i[t.pop()]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,s,u,c,f,l,d="";n=t.pop();)if(r=n.obj,d+=n.prefix||"",i=n.val||"")d+=i;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),o=r.length-1;0<=o;o--)a=0===o?"":",",t.push({obj:r[o],prefix:a});t.push({val:"["})}else{for(u in s=[],r)r.hasOwnProperty(u)&&s.push(u);for(t.push({val:"}"}),o=s.length-1;0<=o;o--)f=r[c=s[o]],l=0<o?",":"",l+=JSON.stringify(c)+":",t.push({obj:f,prefix:l});t.push({val:"{"})}return d},n.parse=function(e){for(var t,n,r,i,o,a,s,u,c,f=[],l=[],d=0;;)if("}"!==(t=e[d++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,h(null,f,l);break;case"t":d+=3,h(!0,f,l);break;case"f":d+=4,h(!1,f,l);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(r=e[d++],!/[\d\.\-e\+]/.test(r)){d--;break}n+=r}h(parseFloat(n),f,l);break;case'"':for(i="",o=void 0,a=0;'"'!==(s=e[d++])||"\\"===o&&a%2==1;)i+=s,"\\"===(o=s)?a++:a=0;h(JSON.parse('"'+i+'"'),f,l);break;case"[":u={element:[],index:f.length},f.push(u.element),l.push(u);break;case"{":c={element:{},index:f.length},f.push(c.element),l.push(c);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();h(f.pop(),f,l)}}},{}],12:[function(et,e,t){(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var c=t(et(1)),s=t(et(3)),n=et(2),r=t(et(4)),d=t(et(5)),i=t(et(6)),o=t(et(11));function a(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}var u,v,f,l=Function.prototype.toString,h=l.call(Object);function T(e){var t,n,r,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=T(e[n]);return t}if(e instanceof Date)return e.toISOString();if(i=e,"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer||"undefined"!=typeof Blob&&i instanceof Blob)return a(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=T(e[n]);void 0!==o&&(t[n]=o)}return t}function q(u){return c(function(a){a=T(a);var s=this,t="function"==typeof a[a.length-1]&&a.pop(),e=new Promise(function(n,r){var e,t,i;try{var o=(i=!(t=function(e,t){e?r(e):n(t)}),c(function(e){if(i)throw new Error("once called more than once");i=!0,t.apply(this,e)}));a.push(o),(e=u.apply(s,a))&&"function"==typeof e.then&&n(e)}catch(e){r(e)}});return t&&e.then(function(e){t(null,e)},t),e})}function p(e){return"$"+e}function _(){this._store={}}function g(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function y(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}_.prototype.get=function(e){var t=p(e);return this._store[t]},_.prototype.set=function(e,t){var n=p(e);return this._store[n]=t,!0},_.prototype.has=function(e){return p(e)in this._store},_.prototype.delete=function(e){var t=p(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n];e(this._store[i],i=i.substring(1))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),g.prototype.add=function(e){return this._store.set(e,!0)},g.prototype.has=function(e){return this._store.has(e)},g.prototype.forEach=function(n){this._store.forEach(function(e,t){n(t)})},Object.defineProperty(g.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(u=g,v=_):(u=Set,v=Map);try{localStorage.setItem("_pouch_check_localstorage",1),f=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){f=!1}function x(){return f}function m(){var t;n.EventEmitter.call(this),this._listeners={},t=this,x()&&addEventListener("storage",function(e){t.emit(e.key)})}function E(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}r(m,n.EventEmitter),m.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var i=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(o)o="waiting";else{o=!0;var e=y(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===o&&s(a),o=!1}).on("error",function(){o=!1})}}},m.prototype.removeListener=function(e,t){t in this._listeners&&(n.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},m.prototype.notifyLocalWindows=function(e){x()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},m.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var O="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};function b(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}r(b,Error),b.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new b(401,"unauthorized","Name or password is incorrect."),new b(400,"bad_request","Missing JSON list of 'docs'");var L=new b(404,"not_found","missing"),N=new b(409,"conflict","Document update conflict"),S=new b(400,"bad_request","_id field must contain a string"),w=new b(412,"missing_id","_id is required for puts"),A=new b(400,"bad_request","Only reserved document ids may start with underscore."),I=(new b(412,"precondition_failed","Database not open"),new b(500,"unknown_error","Database encountered an unknown error"),new b(500,"badarg","Some query argument is invalid")),R=(new b(400,"invalid_request","Request was invalid"),new b(400,"query_parse_error","Some query parameter is invalid"),new b(500,"doc_validation","Bad special document member")),C=new b(400,"bad_request","Something wrong with the request"),D=(new b(400,"bad_request","Document must be a JSON object"),new b(404,"not_found","Database not found"),new b(500,"indexed_db_went_bad","unknown"),new b(500,"web_sql_went_bad","unknown")),B=(new b(500,"levelDB_went_went_bad","unknown"),new b(403,"forbidden","Forbidden by design doc validate_doc_update function"),new b(400,"bad_request","Invalid rev format")),j=(new b(412,"file_exists","The database could not be created, the file already exists."),new b(412,"missing_stub","A pre-existing attachment stub wasn't found"));new b(413,"invalid_url","Provided URL is invalid");function M(n,e){function t(e){for(var t in n)"function"!=typeof n[t]&&(this[t]=n[t]);void 0!==e&&(this.reason=e)}return t.prototype=b.prototype,new t(e)}function U(r){var i={},o=r.filter&&"function"==typeof r.filter;return i.query=r.query_params,function(e){e.doc||(e.doc={});var t=o&&function(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return M(C,r)}}(r.filter,e.doc,i);if("object"==typeof t)return t;if(t)return!1;if(r.include_docs){if(!r.attachments)for(var n in e.doc._attachments)e.doc._attachments.hasOwnProperty(n)&&(e.doc._attachments[n].stub=!0)}else delete e.doc;return!0}}var F=function(e){return atob(e)},k=function(e){return btoa(e)};function W(e,t){return function(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(n.type)}}([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(e)],{type:t})}function P(e,n){var t=new FileReader,r="function"==typeof t.readAsBinaryString;t.onloadend=function(e){var t=e.target.result||"";if(r)return n(t);n(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}(t))},r?t.readAsBinaryString(e):t.readAsArrayBuffer(e)}function H(e,t){P(e,function(e){t(e)})}var X=e.setImmediate||e.setTimeout,J=32768;function z(t,e,n,r,i){var o,a,s,u,c,f;(0<n||r<e.size)&&(a=n,s=r,e=(o=e).webkitSlice?o.webkitSlice(a,s):o.slice(a,s)),u=e,c=function(e){t.append(e),i()},(f=new FileReader).onloadend=function(e){var t=e.target.result||new ArrayBuffer(0);c(t)},f.readAsArrayBuffer(u)}function V(e,t,n,r,i){(0<n||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function Q(n,r){var e="string"==typeof n,t=e?n.length:n.size,i=Math.min(J,t),o=Math.ceil(t/i),a=0,s=e?new d:new d.ArrayBuffer,u=e?V:z;function c(){X(l)}function f(){var e=s.end(!0),t=k(e);r(t),s.destroy()}function l(){var e=a*i,t=e+i;u(s,n,e,t,++a<o?c:f)}l()}function Y(e,t){var n,r=T(e);return t?(delete r._rev_tree,n=JSON.stringify(r),d.hash(n)):i.v4().replace(/-/g,"").toLowerCase()}var G=i.v4;function K(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}var $=K(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Z=K(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function ee(e){if(!/^\d+-./.test(e))return M(B);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function te(e,t,n){var r,i,o;n||(n={deterministic_revs:!0});var a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=G()),i=Y(e,n.deterministic_revs),e._rev){if((o=ee(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,a,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[i,a,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,a),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((o=ee(e._rev)).error)return o;r=o.prefix,i=o.id,e._rev_tree=[{pos:r,ids:[i,a,[]]}]}!function(e){var t;if(e?"string"!=typeof e?t=M(S):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=M(A)):t=M(w),t)throw t}(e._id),e._rev=r+"-"+i;var s={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c="_"===u[0];if(c&&!$[u]){var f=M(R,u);throw f.message=R.message+": "+u,f}c&&!Z[u]?s.metadata[u.slice(1)]=e[u]:s.data[u]=e[u]}return s}function ne(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,f=s.length;c<f;c++)o.push({pos:u+1,ids:s[c]});else{var l=!!a[1].deleted,d=a[0];t&&!(r!==l?r:n!==u?n<u:t<d)||(t=d,n=u,r=l)}}return n+"-"+t}function re(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=t(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;u<c;u++)r.push({pos:i+1,ids:a[u],ctx:s})}function ie(e,t){return e.pos-t.pos}function oe(e){for(var t=ne(e),n=function(e){var o=[];re(e,function(e,t,n,r,i){e&&o.push({rev:t+"-"+n,pos:t,opts:i})}),o.sort(ie).reverse();for(var t=0,n=o.length;t<n;t++)delete o[t].pos;return o}(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var a=n[i];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function ae(e,t){return e.pos-t.pos}function se(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var a=e[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function ue(e,t){return e[0]<t[0]?-1:1}function ce(e,t){for(var n,r,i,o=[{tree1:e,tree2:t}],a=!1;0<o.length;){var s=o.pop(),u=s.tree1,c=s.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var f=0;f<c[2].length;f++)if(u[2][0]){for(var l=!1,d=0;d<u[2].length;d++)u[2][d][0]===c[2][f][0]&&(o.push({tree1:u[2][d],tree2:c[2][f]}),l=!0);l||(a="new_branch",n=u[2],r=c[2][f],void 0,i=function(e,t,n){for(var r,i=0,o=e.length;i<o;)n(e[r=i+o>>>1],t)<0?i=r+1:o=r;return i}(n,r,ue),n.splice(i,0,r))}else a="new_leaf",u[2][0]=c[2][f]}return{conflicts:a,tree:e}}function fe(e,t,n){var r,i=[],o=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,u=e.length;s<u;s++){var c=e[s];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=ce(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(!0!==n){var f=c.pos<t.pos?c:t,l=c.pos<t.pos?t:c,d=l.pos-f.pos,h=[],p=[];for(p.push({ids:f.ids,diff:d,parent:null,parentIdx:null});0<p.length;){var v=p.pop();if(0!==v.diff)for(var _=v.ids[2],g=0,y=_.length;g<y;g++)p.push({ids:_[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===l.ids[0]&&h.push(v)}var m=h[0];m?(r=ce(m.ids,l.ids),m.parent[2][m.parentIdx]=r.tree,i.push({pos:f.pos,ids:f.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(t),i.sort(ae),{tree:i,conflicts:o||"internal_node"}}function le(e,t,n){var r=fe(e,t),i=function(e,t){for(var r,n,i=function(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,f=t.history?t.history.slice():[];f.push({id:a,opts:s}),c&&n.push({pos:i+1-f.length,ids:f});for(var l=0,d=u.length;l<d;l++)r.push({pos:i+1,ids:u[l],history:f})}return n.reverse()}(e),o=0,a=i.length;o<a;o++){var s,u=i[o],c=u.ids;if(c.length>t){r||(r={});var f=c.length-t;s={pos:u.pos+f,ids:se(c,f)};for(var l=0;l<f;l++){var d=u.pos+l+"-"+c[l].id;r[d]=!0}}else s={pos:u.pos,ids:se(c,0)};n=n?fe(n,s,!0).tree:[s]}return r&&re(n,function(e,t,n){delete r[t+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function de(e){return e.ids}function he(e,t){t||(t=ne(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(de);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function pe(e){return/^_local/.test(e)}function ve(t,e,n){var r=function(e){try{return F(e)}catch(e){return{error:M(I,"Attachment is not a valid base64 string")}}}(t.data);if(r.error)return n(r.error);t.length=r.length,t.data="blob"===e?W(r,t.content_type):"base64"===e?k(r):r,Q(r,function(e){t.digest="md5-"+e,n()})}function _e(r,i,o){Q(r.data,function(e){var t,n;r.digest="md5-"+e,r.length=r.data.size||r.data.length||0,"binary"===i?H(r.data,function(e){r.data=e,o()}):"base64"===i?(t=r.data,n=function(e){r.data=e,o()},H(t,function(e){n(k(e))})):o()})}function ge(e,t,n){if(e.stub)return n();"string"==typeof e.data?ve(e,t,n):_e(e,t,n)}function ye(e,t,n,r,i,o,a,s){if(function(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;u<c;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}(t.rev_tree,n.metadata.rev)&&!s)return r[i]=n,o();var u=t.winningRev||ne(t),c="deleted"in t?t.deleted:he(t,u),f="deleted"in n.metadata?n.metadata.deleted:he(n.metadata),l=/^1-/.test(n.metadata.rev);if(c&&!f&&s&&l){var d=n.data;d._rev=u,d._id=n.metadata.id,n=te(d,s)}var h=le(t.rev_tree,n.metadata.rev_tree[0],e);if(s&&(c&&f&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!f&&"new_branch"===h.conflicts)){var p=M(N);return r[i]=p,o()}var v=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var _=ne(n.metadata),g=he(n.metadata,_),y=c===g?0:c<g?-1:1;a(n,_,g,v===_?g:he(n.metadata,v),!0,y,i,o)}function me(u,e,i,c,o,f,l,d,t){u=u||1e3;var h=d.new_edits,a=new v,n=0,s=e.length;function p(){++n===s&&t&&t()}e.forEach(function(e,n){if(e._id&&pe(e._id)){var t=e._deleted?"_removeLocal":"_putLocal";i[t](e,{ctx:o},function(e,t){f[n]=e||t,p()})}else{var r=e.metadata.id;a.has(r)?(s--,a.get(r).push([e,n])):a.set(r,[[e,n]])}}),a.forEach(function(i,o){var a=0;function s(){++a<i.length?e():p()}function e(){var e=i[a],t=e[0],n=e[1];if(c.has(o))ye(u,c.get(o),t,f,n,s,l,h);else{var r=le([],t.metadata.rev_tree[0],u);t.metadata.rev_tree=r.tree,t.stemmedRevs=r.stemmedRevs||[],function(e,t,n){var r=ne(e.metadata),i=he(e.metadata,r);if("was_delete"in d&&i)return f[t]=M(L,"deleted"),n();if(h&&"missing"===e.metadata.rev_tree[0].ids[1].status){var o=M(N);return f[t]=o,n()}l(e,r,i,i,!1,i?0:1,t,n)}(t,n,s)}}e()})}function Ee(t){try{return JSON.parse(t)}catch(e){return o.parse(t)}}function be(t){try{return JSON.stringify(t)}catch(e){return o.stringify(t)}}function Se(e){return e<65?e-48:e-55}function we(e,t){return"UTF-8"===t?(n=function(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Se(e.charCodeAt(t++))<<4|Se(e.charCodeAt(t++)));return r}(e,0,e.length),decodeURIComponent(escape(n))):function(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Se(e.charCodeAt(t+2))<<12|Se(e.charCodeAt(t+3))<<8|Se(e.charCodeAt(t))<<4|Se(e.charCodeAt(t+1))),t+=4;return r}(e,0,e.length);var n}function Ae(e){return"'"+e+"'"}var Te=7,qe=Ae("document-store"),xe=Ae("by-sequence"),Oe=Ae("attach-store"),Le=Ae("local-store"),Ne=Ae("metadata-store"),Ie=Ae("attach-seq-store");function Re(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Ce(e,t,n){return(e=JSON.parse(e))._id=t,e._rev=n,e}function De(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Be(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function je(e,n,r){if(e.length){var t=0,o=[];e.forEach(function(e){var t="SELECT seq FROM "+xe+" WHERE doc_id=? AND rev=?";r.executeSql(t,[n,e],function(e,t){if(!t.rows.length)return i();var n=t.rows.item(0).seq;o.push(n),e.executeSql("DELETE FROM "+xe+" WHERE seq=?",[n],i)})})}function i(){++t===e.length&&function(){if(!o.length)return;var e="SELECT DISTINCT digest AS digest FROM "+Ie+" WHERE seq IN "+De(o.length);r.executeSql(e,o,function(e,t){for(var i=[],n=0;n<t.rows.length;n++)i.push(t.rows.item(n).digest);if(i.length){var r="DELETE FROM "+Ie+" WHERE seq IN ("+o.map(function(){return"?"}).join(",")+")";e.executeSql(r,o,function(e){var t="SELECT digest FROM "+Ie+" WHERE digest IN ("+i.map(function(){return"?"}).join(",")+")";e.executeSql(t,i,function(t,e){for(var n=new u,r=0;r<e.rows.length;r++)n.add(e.rows.item(r).digest);i.forEach(function(e){n.has(e)||(t.executeSql("DELETE FROM "+Ie+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+Oe+" WHERE digest=?",[e]))})})})}})}()}}function Me(r){return function(e){E("error","WebSQL threw an error",e);var t=e&&e.constructor.toString().match(/function ([^(]+)/),n=(t&&t[1]||e.type,e.target||e.message);r(M(D,n))}}function Ue(t,e,n,g,r,i,o){var y,a=n.new_edits,u=e.docs.map(function(e){return e._id&&pe(e._id)?e:te(e,a,t)}),s=u.filter(function(e){return e.error});if(s.length)return o(s[0]);var c,m=new Array(u.length),E=new v;function f(){if(c)return o(c);i.notify(g._name),o(null,m)}function l(n){var o=[];if(u.forEach(function(n){n.data&&n.data._attachments&&Object.keys(n.data._attachments).forEach(function(e){var t=n.data._attachments[e];t.stub&&o.push(t.digest)})}),!o.length)return n();var a,s=0;o.forEach(function(e){var r,i,t;r=e,i=function(e){e&&!a&&(a=e),++s===o.length&&n(a)},t="SELECT count(*) as cnt FROM "+Oe+" WHERE digest=?",y.executeSql(t,[r],function(e,t){if(0===t.rows.item(0).cnt){var n=M(j,"unknown stub attachment with digest "+r);i(n)}else i()})})}function d(l,f,e,n,d,t,h,p){function r(){var c=l.data,o=n?1:0,a=c._id,s=c._rev,u=Re(c),e="INSERT INTO "+xe+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",t=[a,s,u,o];function f(e,t){var n,r,i,o=0,a=Object.keys(c._attachments||{});if(!a.length)return t();function s(){return++o===a.length&&t(),!1}for(var u=0;u<a.length;u++)n=a[u],void 0,r="INSERT INTO "+Ie+" (digest, seq) VALUES (?,?)",i=[c._attachments[n].digest,e],y.executeSql(r,i,s,s)}y.executeSql(e,t,function(e,t){var n=t.insertId;f(n,function(){_(e,n)})},function(){var e=Be("seq",xe,null,"doc_id=? AND rev=?");return y.executeSql(e,[a,s],function(e,t){var n=t.rows.item(0).seq,r="UPDATE "+xe+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",i=[u,o,a,s];e.executeSql(r,i,function(e){f(n,function(){_(e,n)})})}),!1})}function u(e){i||(e?p(i=e):c===o.length&&r())}var i=null,c=0;l.data._id=l.metadata.id,l.data._rev=l.metadata.rev;var o=Object.keys(l.data._attachments||{});function v(e){c++,u(e)}function _(e,t){var n,o,r=l.metadata.id,i=l.stemmedRevs||[];d&&g.auto_compaction&&(i=(n=l.metadata,o=[],re(n.rev_tree,function(e,t,n,r,i){"available"!==i.status||e||(o.push(t+"-"+n),i.status="missing")}),o).concat(i)),i.length&&je(i,r,e),l.metadata.seq=t;var a=l.metadata.rev;delete l.metadata.rev;var s=d?"UPDATE "+qe+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+xe+" WHERE doc_id="+qe+".id AND rev=?) WHERE id=?":"INSERT INTO "+qe+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",u=be(l.metadata),c=d?[u,t,f,r]:[r,t,t,u];e.executeSql(s,c,function(){m[h]={ok:!0,id:l.metadata.id,rev:a},E.set(r,l.metadata),p()})}n&&(l.data._deleted=!0),o.forEach(function(e){var r,i,o,a,t=l.data._attachments[e];if(t.stub)c++,u();else{var n=t.data;delete t.data,t.revpos=parseInt(f,10);var s=t.digest;r=s,i=n,o=v,a="SELECT digest FROM "+Oe+" WHERE digest=?",y.executeSql(a,[r],function(e,t){if(t.rows.length)return o();var n;a="INSERT INTO "+Oe+" (digest, body, escaped) VALUES (?,?,1)",e.executeSql(a,[r,(n=i,n.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,""))],function(){o()},function(){return o(),!1})})}}),o.length||r()}function h(){me(t.revs_limit,u,g,E,y,m,d,n)}!function(e,o,t){if(!e.length)return t();var a,n=0;function s(){n++,e.length===n&&(a?t(a):t())}e.forEach(function(e){var t=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],n=0;if(!t.length)return s();function r(e){a=e,++n===t.length&&s()}for(var i in e.data._attachments)e.data._attachments.hasOwnProperty(i)&&ge(e.data._attachments[i],o,r)})}(u,"binary",function(e){if(e)return o(e);r.transaction(function(e){y=e,l(function(e){e?c=e:function(e){if(!u.length)return e();var t=0;function i(){++t===u.length&&e()}u.forEach(function(e){if(e._id&&pe(e._id))return i();var r=e.metadata.id;y.executeSql("SELECT json FROM "+qe+" WHERE id = ?",[r],function(e,t){if(t.rows.length){var n=Ee(t.rows.item(0).json);E.set(r,n)}i()})})}(h)})},Me(o),f)})}var Fe=new v;var ke=new m;function We(o,a,s,u,e){var t=Object.keys(o._attachments||{});if(!t.length)return e&&e();var n=0;function c(){++n===t.length&&e&&e()}t.forEach(function(e){var n,r,i,t;a.attachments&&a.include_docs?(r=e,i=(n=o)._attachments[r],t={binary:a.binary,ctx:u},s._getAttachment(n._id,r,i,t,function(e,t){n._attachments[r]=O(y(i,["digest","content_type"]),{data:t}),c()})):(o._attachments[e].stub=!0,c())})}var Pe=1,He="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+xe+" (seq, deleted)",Xe="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+xe+" (doc_id, rev)",Je="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+qe+" (winningseq)",ze="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Ie+" (seq)",Ve="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Ie+" (digest, seq)",Qe=xe+".seq = "+qe+".winningseq",Ye=xe+".seq AS seq, "+xe+".deleted AS deleted, "+xe+".json AS data, "+xe+".rev AS rev, "+qe+".json AS metadata";function Ge(r,e){var t,f,y=this,l=null,n="size"in(t=r)?1e6*t.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1,i=[];y._name=r.name;var o,a,s=O({},r,{version:Pe,description:r.name,size:n}),u=(o=s,(a=Fe.get(o.name))||(a=function(e){try{return{db:(t=e,t.websql(t.name,t.version,t.description,t.size))}}catch(e){return{error:e}}var t}(o),Fe.set(o.name,a)),a);if(u.error)return Me(e)(u.error);var m=u.db;function c(){x()&&(window.localStorage["_pouch__websqldb_"+y._name]=!0),e(null,y)}function d(t,u){t.executeSql(Je),t.executeSql("ALTER TABLE "+xe+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(He),t.executeSql("ALTER TABLE "+qe+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+qe+" (local, id)");var e="SELECT "+qe+".winningseq AS seq, "+qe+".json AS metadata FROM "+xe+" JOIN "+qe+" ON "+xe+".seq = "+qe+".winningseq";t.executeSql(e,[],function(e,t){for(var n=[],r=[],i=0;i<t.rows.length;i++){var o=t.rows.item(i),a=o.seq,s=JSON.parse(o.metadata);he(s)&&n.push(a),pe(s.id)&&r.push(s.id)}e.executeSql("UPDATE "+qe+"SET local = 1 WHERE id IN "+De(r.length),r,function(){e.executeSql("UPDATE "+xe+" SET deleted = 1 WHERE seq IN "+De(n.length),n,u)})})})})}function h(t,o){var e="CREATE TABLE IF NOT EXISTS "+Le+" (id UNIQUE, rev, json)";t.executeSql(e,[],function(){var e="SELECT "+qe+".id AS id, "+xe+".json AS data FROM "+xe+" JOIN "+qe+" ON "+xe+".seq = "+qe+".winningseq WHERE local = 1";t.executeSql(e,[],function(r,e){for(var i=[],t=0;t<e.rows.length;t++)i.push(e.rows.item(t));!function t(){if(!i.length)return o(r);var n=i.shift(),e=JSON.parse(n.data)._rev;r.executeSql("INSERT INTO "+Le+" (id, rev, json) VALUES (?,?,?)",[n.id,e,n.data],function(e){e.executeSql("DELETE FROM "+qe+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+xe+" WHERE seq=?",[n.seq],function(){t()})})})}()})})}function p(s,u){var e="ALTER TABLE "+xe+" ADD COLUMN doc_id";s.executeSql(e,[],function(e){var t="ALTER TABLE "+xe+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(Xe,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+xe;e.executeSql(t,[],function(e,t){for(var a,n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r));a=n,function e(){if(!a.length)return u(s);var t=we(a.shift().hex,f),n=t.lastIndexOf("::"),r=t.substring(0,n),i=t.substring(n+2),o="UPDATE "+xe+" SET doc_id=?, rev=? WHERE doc_id_rev=?";s.executeSql(o,[r,i,t],function(){e()})}()})})})})}function v(e,v){function t(e){var t="SELECT COUNT(*) AS cnt FROM "+Oe;e.executeSql(t,[],function(t,e){if(!e.rows.item(0).cnt)return v(t);var n=0,r=10;!function p(){var e=Be(Ye+", "+qe+".id AS id",[qe,xe],Qe,null,qe+".id ");e+=" LIMIT "+r+" OFFSET "+n,n+=r,t.executeSql(e,[],function(n,e){if(!e.rows.length)return v(n);for(var t,r,i,o={},a=0;a<e.rows.length;a++)for(var s=e.rows.item(a),u=Ce(s.data,s.id,s.rev),c=Object.keys(u._attachments||{}),f=0;f<c.length;f++){var l=u._attachments[c[f]];t=l.digest,r=s.seq,i=void 0,-1===(i=o[t]=o[t]||[]).indexOf(r)&&i.push(r)}var d=[];if(Object.keys(o).forEach(function(t){o[t].forEach(function(e){d.push([t,e])})}),!d.length)return p();var h=0;d.forEach(function(e){var t="INSERT INTO "+Ie+" (digest, seq) VALUES (?,?)";n.executeSql(t,e,function(){++h===d.length&&p()})})})}()})}var n="CREATE TABLE IF NOT EXISTS "+Ie+" (digest, seq INTEGER)";e.executeSql(n,[],function(e){e.executeSql(Ve,[],function(e){e.executeSql(ze,[],t)})})}function _(e,t){var n="ALTER TABLE "+Oe+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function g(e,n){var t="ALTER TABLE "+qe+" ADD COLUMN max_seq INTEGER";e.executeSql(t,[],function(e){var t="UPDATE "+qe+" SET max_seq=(SELECT MAX(seq) FROM "+xe+" WHERE doc_id=id)";e.executeSql(t,[],function(e){var t="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+qe+" (max_seq)";e.executeSql(t,[],n)})})}function E(){for(;0<i.length;){i.pop()(null,l)}}function b(n,t){if(0===t){var e="CREATE TABLE IF NOT EXISTS "+Ne+" (dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+Oe+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",i="CREATE TABLE IF NOT EXISTS "+Ie+" (digest, seq INTEGER)",o="CREATE TABLE IF NOT EXISTS "+qe+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",a="CREATE TABLE IF NOT EXISTS "+xe+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",s="CREATE TABLE IF NOT EXISTS "+Le+" (id UNIQUE, rev, json)";n.executeSql(r),n.executeSql(s),n.executeSql(i,[],function(){n.executeSql(ze),n.executeSql(Ve)}),n.executeSql(o,[],function(){n.executeSql(Je),n.executeSql(a,[],function(){n.executeSql(He),n.executeSql(Xe),n.executeSql(e,[],function(){var e="INSERT INTO "+Ne+" (db_version, dbid) VALUES (?,?)";l=G();var t=[Te,l];n.executeSql(e,t,function(){E()})})})})}else{var u=[d,h,p,v,_,g,function(){t<Te&&n.executeSql("UPDATE "+Ne+" SET db_version = "+Te);var e="SELECT dbid FROM "+Ne;n.executeSql(e,[],function(e,t){l=t.rows.item(0).dbid,E()})}],c=t,f=function(e){u[c-1](e,f),c++};f(n)}}function S(e,r){var t="SELECT MAX(seq) AS seq FROM "+xe;e.executeSql(t,[],function(e,t){var n=t.rows.item(0).seq||0;r(n)})}function w(e,n){var t=Be("COUNT("+qe+".id) AS 'num'",[qe,xe],Qe,xe+".deleted=0");e.executeSql(t,[],function(e,t){n(t.rows.item(0).num)})}function A(e,t,i,o,a){var n=Be(Ye,[qe,xe],Qe,qe+".id=?"),r=[t];e.executeSql(n,r,function(e,t){if(!t.rows.length){var n=M(L,"missing");return a(n)}var r=Ee(t.rows.item(0).metadata);o(function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,f=n.history?n.history.slice():[];if(f.push({id:a,pos:i,opts:s}),c)for(var l=0,d=f.length;l<d;l++){var h=f[l];if(h.pos+"-"+h.id===e)return i+"-"+a}for(var p=0,v=u.length;p<v;p++)r.push({pos:i+1,ids:u[p],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(i,r))})}"function"!=typeof m.readTransaction&&(m.readTransaction=m.transaction),m.transaction(function(t){var r;r=function(){var e;e="SELECT sql FROM sqlite_master WHERE tbl_name = "+Ne,t.executeSql(e,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Ne,[],function(e,t){var n=t.rows.item(0).db_version;b(e,n)}):e.executeSql("ALTER TABLE "+Ne+" ADD COLUMN db_version INTEGER",[],function(){b(e,1)}):b(e,0)})},t.executeSql('SELECT HEX("a") AS hex',[],function(e,t){var n=t.rows.item(0).hex;f=2===n.length?"UTF-8":"UTF-16",r()})},Me(e),c),y._remote=!1,y.type=function(){return"websql"},y._id=q(function(e){e(null,l)}),y._info=function(e){var t,n;m.readTransaction(function(e){S(e,function(e){t=e}),w(e,function(e){n=e})},Me(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:f})})},y._bulkDocs=function(e,t,n){Ue(r,e,t,y,m,ke,n)},y._get=function(t,r,n){var i,o,e,a,s=r.ctx;if(!s)return m.readTransaction(function(e){y._get(t,O({ctx:e},r),n)});function u(e){n(e,{doc:i,metadata:o,ctx:s})}if(r.rev){if(r.latest)return void A(s,t,r.rev,function(e){r.latest=!1,r.rev=e,y._get(t,r,n)},u);e=Be(Ye,[qe,xe],qe+".id="+xe+".doc_id",[xe+".doc_id=?",xe+".rev=?"]),a=[t,r.rev]}else e=Be(Ye,[qe,xe],Qe,qe+".id=?"),a=[t];s.executeSql(e,a,function(e,t){if(!t.rows.length)return u(M(L,"missing"));var n=t.rows.item(0);if(o=Ee(n.metadata),n.deleted&&!r.rev)return u(M(L,"deleted"));i=Ce(n.data,o.id,n.rev),u()})},y._allDocs=function(d,t){var n,r,h=[],e="startkey"in d&&d.startkey,i="endkey"in d&&d.endkey,o="key"in d&&d.key,p="keys"in d&&d.keys,a="descending"in d&&d.descending,s="limit"in d?d.limit:-1,u="skip"in d?d.skip:0,c=!1!==d.inclusive_end,f=[],l=[];if(p){var v=[],_="";p.forEach(function(e){-1===v.indexOf(e)&&(v.push(e),_+="?,")}),_=_.substring(0,_.length-1),l.push(qe+".id IN ("+_+")"),f=f.concat(v)}else if(!1!==o)l.push(qe+".id = ?"),f.push(o);else if(!1!==e||!1!==i){if(!1!==e&&(l.push(qe+".id "+(a?"<=":">=")+" ?"),f.push(e)),!1!==i){var g=a?">":"<";c&&(g+="="),l.push(qe+".id "+g+" ?"),f.push(i)}!1!==o&&(l.push(qe+".id = ?"),f.push(o))}p||l.push(xe+".deleted = 0"),m.readTransaction(function(e){if(w(e,function(e){n=e}),d.update_seq&&S(e,function(e){r=e}),0!==s){var t=Be(Ye,[qe,xe],Qe,l,qe+".id "+(a?"DESC":"ASC"));t+=" LIMIT "+s+" OFFSET "+u,e.executeSql(t,f,function(e,t){for(var n=0,r=t.rows.length;n<r;n++){var i=t.rows.item(n),o=Ee(i.metadata),a=o.id,s=Ce(i.data,a,i.rev),u=s._rev,c={id:a,key:a,value:{rev:u}};if(d.include_docs){if(c.doc=s,c.doc._rev=u,d.conflicts){var f=oe(o);f.length&&(c.doc._conflicts=f)}We(c.doc,d,y,e)}if(i.deleted){if(!p)continue;c.value.deleted=!0,c.doc=null}if(p)for(var l=p.indexOf(a,l);h[l]=c,-1<(l=p.indexOf(a,l+1))&&l<p.length;);else h.push(c)}p&&p.forEach(function(e,t){h[t]||(h[t]={key:e,error:"not_found"})})})}},Me(t),function(){var e={total_rows:n,offset:d.skip,rows:h};d.update_seq&&(e.update_seq=r),t(null,e)})},y._changes=function(d){if((d=T(d)).continuous){var e=y._name+":"+G();return ke.addListener(y._name,e,y,d),ke.notify(y._name),{cancel:function(){ke.removeListener(y._name,e)}}}var a=d.descending;d.since=d.since&&!a?d.since:0;var h="limit"in d?d.limit:-1;0===h&&(h=1);var p=[],v=0;!function(){var e=qe+".json AS metadata, "+qe+".max_seq AS maxSeq, "+xe+".json AS winningDoc, "+xe+".rev AS winningRev ",t=qe+" JOIN "+xe,n=qe+".id="+xe+".doc_id AND "+qe+".winningseq="+xe+".seq",r=["maxSeq > ?"],i=[d.since];d.doc_ids&&(r.push(qe+".id IN "+De(d.doc_ids.length)),i=i.concat(d.doc_ids));var o=Be(e,t,n,r,"maxSeq "+(a?"DESC":"ASC")),f=U(d);d.view||d.filter||(o+=" LIMIT "+h);var l=d.since||0;m.readTransaction(function(e){e.executeSql(o,i,function(e,t){function n(e){return function(){d.onChange(e)}}for(var r=0,i=t.rows.length;r<i;r++){var o=t.rows.item(r),a=Ee(o.metadata);l=o.maxSeq;var s=Ce(o.winningDoc,a.id,o.winningRev),u=d.processChange(s,a,d);u.seq=o.maxSeq;var c=f(u);if("object"==typeof c)return d.complete(c);if(c&&(v++,d.return_docs&&p.push(u),d.attachments&&d.include_docs?We(s,d,y,e,n(u)):n(u)()),v===h)break}})},Me(d.complete),function(){d.continuous||d.complete(null,{results:p,last_seq:l})})}()},y._close=function(e){e()},y._getAttachment=function(e,t,n,i,o){var a,r=i.ctx,s=n.digest,u=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Oe+" WHERE digest=?";r.executeSql(c,[s],function(e,t){var n=t.rows.item(0),r=n.escaped?n.body.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""):we(n.body,f);a=i.binary?W(r,u):k(r),o(null,a)})},y._getRevisionTree=function(n,r){m.readTransaction(function(e){var t="SELECT json AS metadata FROM "+qe+" WHERE id = ?";e.executeSql(t,[n],function(e,t){if(t.rows.length){var n=Ee(t.rows.item(0).metadata);r(null,n.rev_tree)}else r(M(L))})})},y._doCompaction=function(i,a,e){if(!a.length)return e();m.transaction(function(e){var t="SELECT json AS metadata FROM "+qe+" WHERE id = ?";e.executeSql(t,[i],function(e,t){var n=Ee(t.rows.item(0).metadata);re(n.rev_tree,function(e,t,n,r,i){var o=t+"-"+n;-1!==a.indexOf(o)&&(i.status="missing")});var r="UPDATE "+qe+" SET json = ? WHERE id = ?";e.executeSql(r,[be(n),i])}),je(a,i,e)},Me(e),function(){e()})},y._getLocal=function(i,o){m.readTransaction(function(e){var t="SELECT json, rev FROM "+Le+" WHERE id=?";e.executeSql(t,[i],function(e,t){if(t.rows.length){var n=t.rows.item(0),r=Ce(n.json,i,n.rev);o(null,r)}else o(M(L))})})},y._putLocal=function(e,r,i){"function"==typeof r&&(i=r,r={}),delete e._revisions;var o,a=e._rev,s=e._id;o=e._rev=a?"0-"+(parseInt(a.split("-")[1],10)+1):"0-1";var u,c=Re(e);function t(e){var t,n;a?(t="UPDATE "+Le+" SET rev=?, json=? WHERE id=? AND rev=?",n=[o,c,s,a]):(t="INSERT INTO "+Le+" (id, rev, json) VALUES (?,?,?)",n=[s,o,c]),e.executeSql(t,n,function(e,t){t.rowsAffected?(u={ok:!0,id:s,rev:o},r.ctx&&i(null,u)):i(M(N))},function(){return i(M(N)),!1})}r.ctx?t(r.ctx):m.transaction(t,Me(i),function(){u&&i(null,u)})},y._removeLocal=function(r,i,o){var a;function e(e){var t="DELETE FROM "+Le+" WHERE id=? AND rev=?",n=[r._id,r._rev];e.executeSql(t,n,function(e,t){if(!t.rowsAffected)return o(M(L));a={ok:!0,id:r._id,rev:"0-0"},i.ctx&&o(null,a)})}"function"==typeof i&&(o=i,i={}),i.ctx?e(i.ctx):m.transaction(e,Me(o),function(){a&&o(null,a)})},y._destroy=function(e,t){ke.removeAllListeners(y._name),m.transaction(function(t){[qe,xe,Oe,Ne,Le,Ie].forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},Me(t),function(){x()&&(delete window.localStorage["_pouch__websqldb_"+y._name],delete window.localStorage[y._name]),t(null,{ok:!0})})}}function Ke(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=x(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=function(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}();return e&&(localStorage[t]=n?"1":"0"),n}function $e(e,t,n,r){return openDatabase(e,t,n,r)}function Ze(e,t){E("warn","WebSQL is deprecated and will be removed in future releases of PouchDB. Please migrate to IndexedDB: https://pouchdb.com/2018/01/23/pouchdb-6.4.2.html");var n=O({websql:$e},e);Ge.call(this,n,t)}Ze.valid=function(){return"function"==typeof openDatabase&&Ke()},Ze.use_prefix=!0,"undefined"==typeof PouchDB?E("error",'websql adapter plugin error: Cannot find global "PouchDB" object! Did you remember to include pouchdb.js?'):PouchDB.plugin(function(e){e.adapter("websql",Ze,!0)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,11:11,2:2,3:3,4:4,5:5,6:6}]},{},[12]);